{"version":3,"sources":["../package.json","../src/cli.ts"],"sourcesContent":["{\n  \"name\": \"nextjs-electron\",\n  \"version\": \"0.1.0\",\n  \"description\": \"A modular Electron library to bootstrap Next.js static exports into secure, production-ready desktop apps.\",\n  \"keywords\": [\n    \"electron\",\n    \"nextjs\",\n    \"desktop\",\n    \"builder\",\n    \"boilerplate\",\n    \"typescript\"\n  ],\n  \"homepage\": \"https://github.com/app-vyeron-com/nextjs-electron#readme\",\n  \"bugs\": {\n    \"url\": \"https://github.com/app-vyeron-com/nextjs-electron/issues\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/app-vyeron-com/nextjs-electron.git\"\n  },\n  \"license\": \"MIT\",\n  \"author\": \"Your Name/Org\",\n  \"type\": \"commonjs\",\n  \"main\": \"dist/main.js\",\n  \"types\": \"dist/index.d.ts\",\n  \"bin\": {\n    \"nextjs-electron\": \"dist/cli.js\"\n  },\n  \"files\": [\n    \"dist\",\n    \"electron-builder.config.js\",\n    \"README.md\"\n  ],\n  \"scripts\": {\n    \"build\": \"tsup\",\n    \"dev\": \"tsup --watch\",\n    \"start:electron\": \"electron dist/main.js\",\n    \"package\": \"npm run build && electron-builder --config electron-builder.config.js\",\n    \"lint\": \"eslint . --ext .ts\",\n    \"typecheck\": \"tsc --noEmit\"\n  },\n  \"dependencies\": {\n    \"electron-log\": \"^5.1.5\",\n    \"electron-updater\": \"^6.3.0\",\n    \"fs-extra\": \"^11.2.0\",\n    \"zod\": \"^3.23.8\",\n    \"lodash.merge\": \"^4.6.2\",\n    \"commander\": \"^12.0.0\",\n    \"inquirer\": \"^9.2.20\"\n  },\n  \"devDependencies\": {\n    \"@types/fs-extra\": \"^11.0.4\",\n    \"@types/node\": \"^20.11.19\",\n    \"@types/lodash.merge\": \"^4.6.9\",\n    \"@types/inquirer\": \"^9.0.7\",\n    \"electron\": \"^31.0.2\",\n    \"electron-builder\": \"^25.0.0-alpha.14\",\n    \"eslint\": \"^8.56.0\",\n    \"tsup\": \"^8.5.0\",\n    \"typescript\": \"^5.3.3\"\n  },\n  \"peerDependencies\": {\n    \"electron\": \">=28.0.0\"\n  },\n  \"engines\": {\n    \"node\": \">=18.0.0\"\n  },\n  \"module\": \"dist/index.mjs\"\n}\n","\n/**\n * @fileOverview CLI tool for nextjs-electron.\n * Provides commands for common tasks like packaging, launching, and generating projects.\n */\nimport { Command } from 'commander';\nimport { execSync } from 'child_process';\nimport path from 'path';\nimport fs from 'fs-extra';\nimport inquirer from 'inquirer';\n\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst packageJson = require('../package.json');\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst libraryPackageJson = require('../package.json');\n\n\nconst program = new Command();\n\nprogram\n  .version(packageJson.version)\n  .description(packageJson.description);\n\nprogram\n  .command('launch')\n  .description('Launch the Electron application (development mode, uses project electron main).')\n  .option('--app-path <path>', 'Path to the Next.js /out directory or URL to load (experimental)')\n  .action(async (_options) => {\n    console.log('Launching Electron app from current project...');\n    try {\n      console.log(`Attempting to run \"electron .\" in ${process.cwd()}`);\n      console.log(\"Ensure your project's package.json 'main' field points to an Electron entry script (e.g., one that uses nextjs-electron's launchApp).\");\n      execSync('electron .', { stdio: 'inherit', cwd: process.cwd() });\n    } catch (error) {\n      console.error('Failed to launch Electron app:', error);\n      console.error('Please ensure Electron is installed and your project is configured correctly.');\n      process.exit(1);\n    }\n  });\n\nprogram\n  .command('package')\n  .description('Package the Electron application using electron-builder.')\n  .option('--config <path>', 'Path to electron-builder configuration file (e.g., electron-builder.config.js in your project or node_modules/nextjs-electron/electron-builder.config.js)')\n  .option('--mac', 'Build for macOS')\n  .option('--win', 'Build for Windows')\n  .option('--linux', 'Build for Linux')\n  .option('--publish <mode>', 'Publish mode (e.g., \"onTagOrDraft\", \"always\", \"never\")')\n  .action(async (options) => {\n    console.log('Packaging Electron app with electron-builder...');\n    \n    let builderConfigPath = options.config;\n    if (!builderConfigPath) {\n        const userProjectConfig = path.resolve(process.cwd(), 'electron-builder.config.js');\n        const userProjectUserConfig = path.resolve(process.cwd(), 'electron-builder.user.config.js'); \n        const libraryDefaultConfig = path.resolve(__dirname, '..', 'electron-builder.config.js');\n\n        if (await fs.pathExists(userProjectConfig)) {\n            builderConfigPath = userProjectConfig;\n        } else if (await fs.pathExists(userProjectUserConfig)) {\n            builderConfigPath = userProjectUserConfig;\n        } else {\n            builderConfigPath = libraryDefaultConfig;\n            console.log(`No custom electron-builder config found in project root. Using library default: ${builderConfigPath}`);\n        }\n    }\n    console.log(`Using electron-builder configuration: ${builderConfigPath}`);\n\n    let cmd = `electron-builder --config \"${builderConfigPath}\"`;\n\n    const targets = [];\n    if (options.mac) targets.push('--mac');\n    if (options.win) targets.push('--win');\n    if (options.linux) targets.push('--linux');\n    if (targets.length > 0) cmd += ` ${targets.join(' ')}`;\n\n    if (options.publish) {\n      cmd += ` --publish ${options.publish}`;\n    }\n    \n    console.log(`Executing: ${cmd}`);\n    try {\n      execSync(cmd, { stdio: 'inherit', cwd: process.cwd() });\n      console.log('Application packaged successfully.');\n    } catch (error) {\n      console.error('Failed to package application:', error);\n      process.exit(1);\n    }\n  });\n  \nprogram\n    .command('init-config')\n    .description('Initialize a default electron-builder.config.js in the current project (as electron-builder.user.config.js).')\n    .action(async () => {\n        const defaultConfigPath = path.resolve(__dirname, '..', 'electron-builder.config.js'); \n        const targetConfigPath = path.resolve(process.cwd(), 'electron-builder.user.config.js');\n\n        try {\n            if (await fs.pathExists(targetConfigPath)) {\n                const { overwrite } = await inquirer.prompt([{\n                    type: 'confirm',\n                    name: 'overwrite',\n                    message: `Configuration file already exists at ${targetConfigPath}. Overwrite?`,\n                    default: false,\n                }]);\n                if (!overwrite) {\n                    console.log('Initialization cancelled.');\n                    return;\n                }\n            }\n            await fs.copyFile(defaultConfigPath, targetConfigPath);\n            console.log(`Default electron-builder configuration copied to ${targetConfigPath}`);\n            console.log(\"Please review and customize this file, especially 'appId', 'productName', icons, and signing information.\");\n        } catch (error) {\n            console.error('Failed to initialize configuration:', error);\n            process.exit(1);\n        }\n    });\n\nprogram\n  .command('setup-project')\n  .description('Automatically sets up the current Next.js project for Electron integration.')\n  .action(async () => {\n    console.log('üöÄ Starting automatic project setup for nextjs-electron...');\n\n    const answers = await inquirer.prompt([\n      {\n        type: 'input',\n        name: 'productName',\n        message: 'Enter your application name (for window title, etc.):',\n        default: 'My Next.js Electron App',\n      },\n      {\n        type: 'input',\n        name: 'appId',\n        message: 'Enter your application ID (e.g., com.mycompany.myapp):',\n        default: 'com.example.myapp',\n        validate: (input: string) => input.includes('.') ? true : 'App ID should be in reverse domain style (e.g., com.example.app)',\n      },\n    ]);\n\n    const { productName, appId } = answers;\n    const projectRoot = process.cwd();\n    const packageJsonPath = path.join(projectRoot, 'package.json');\n    const electronMainPath = path.join(projectRoot, 'electron-main.js');\n\n    try {\n      // 1. Modify package.json\n      console.log(`\\nüìÑ Reading and updating ${packageJsonPath}...`);\n      if (!await fs.pathExists(packageJsonPath)) {\n        console.error(`Error: package.json not found in ${projectRoot}. Please run this command from your Next.js project root.`);\n        process.exit(1);\n      }\n      const projectPkg = await fs.readJson(packageJsonPath);\n\n      projectPkg.main = 'electron-main.js';\n\n      projectPkg.scripts = projectPkg.scripts || {};\n      projectPkg.scripts['start:electron'] = 'electron .';\n      projectPkg.scripts['package:electron'] = 'nextjs-electron package';\n      // A more specific package script using the user's config if they run init-config later\n      projectPkg.scripts['package:electron:user'] = 'nextjs-electron package --config electron-builder.user.config.js';\n\n\n      projectPkg.dependencies = projectPkg.dependencies || {};\n      const nextjsElectronVersion = libraryPackageJson.version ? `^${libraryPackageJson.version}` : 'latest';\n      if (!projectPkg.dependencies['nextjs-electron']) {\n        projectPkg.dependencies['nextjs-electron'] = nextjsElectronVersion;\n        console.log(`   Added 'nextjs-electron' version ${nextjsElectronVersion} to dependencies.`);\n      } else {\n        console.log(`   'nextjs-electron' already in dependencies. Version: ${projectPkg.dependencies['nextjs-electron']}`);\n      }\n      \n      projectPkg.devDependencies = projectPkg.devDependencies || {};\n      const electronVersion = libraryPackageJson.devDependencies.electron || '^31.0.0'; // Get from library's devDeps\n      if (!projectPkg.devDependencies.electron) {\n        projectPkg.devDependencies.electron = electronVersion;\n        console.log(`   Added 'electron' version ${electronVersion} to devDependencies.`);\n      } else {\n        console.log(`   'electron' already in devDependencies. Version: ${projectPkg.devDependencies.electron}`);\n      }\n      \n      // Add electron-builder if not present\n      const electronBuilderVersion = libraryPackageJson.devDependencies['electron-builder'] || '^25.0.0';\n      if (!projectPkg.devDependencies['electron-builder']) {\n          projectPkg.devDependencies['electron-builder'] = electronBuilderVersion;\n          console.log(`   Added 'electron-builder' version ${electronBuilderVersion} to devDependencies.`);\n      }\n\n\n      await fs.writeJson(packageJsonPath, projectPkg, { spaces: 2 });\n      console.log(`   ‚úÖ Successfully updated ${packageJsonPath}`);\n\n      // 2. Create electron-main.js\n      console.log(`\\nüìÑ Creating ${electronMainPath}...`);\n      const electronMainContent = `// electron-main.js\nconst path = require('path');\n\n// Dynamically import launchApp to support both CJS and ESM projects\nasync function start() {\n  const { launchApp } = await (\n    eval('typeof module === \"undefined\" ? import(\"nextjs-electron\") : Promise.resolve(require(\"nextjs-electron\"))')\n  );\n\n  // Default appUrl assumes Next.js output is in '/out' at the project root.\n  // For packaged apps, this path needs to be relative from where nextjs-electron's main.js runs.\n  // The library's default config handles the packaged app path well.\n  // For development, an absolute path is more robust.\n  const devAppUrl = \\`file://\\${path.join(__dirname, 'out', 'index.html')}\\`;\n  // The library's internal default for appUrl will be used if this is not set,\n  // which is generally \\`file://\\${process.resourcesPath}/app.asar/out/index.html\\` for packaged app\n  // and \\`file://\\${app.getAppPath()}/../out/index.html\\` for dev with nextjs-electron's main.\n\n  launchApp({\n    productName: '${productName}',\n    appId: '${appId}',\n    // appUrl: devAppUrl, // Uncomment and adjust if needed for local dev, or let library default handle it.\n                          // The library's default appUrl for dev is usually good.\n  });\n}\n\nstart();\n`;\n      await fs.writeFile(electronMainPath, electronMainContent.trim());\n      console.log(`   ‚úÖ Successfully created ${electronMainPath}`);\n      console.log(\"      Please ensure your Next.js app exports to the 'out' directory (e.g., 'output: \\\"export\\\"' in next.config.js and run 'next build').\");\n\n\n      console.log('\\n‚ú® Automatic setup complete!');\n      console.log('\\nNext Steps:');\n      console.log('  1. Run `npm install` (or `yarn install`) to install new dependencies.');\n      console.log('  2. Ensure your Next.js app builds to the `/out` directory (`output: \"export\"` in `next.config.js`, then `npm run build` for Next.js).');\n      console.log('  3. Run `npm run start:electron` to launch your Electron app.');\n      console.log('  4. For packaging, consider running `npx nextjs-electron init-config` to customize builder options, then use `npm run package:electron`.');\n\n    } catch (error) {\n      console.error('\\n‚ùå Error during automatic setup:', error);\n      console.error('   Please check the error message above. You may need to manually complete the setup or revert changes.');\n      process.exit(1);\n    }\n  });\n\nprogram\n  .command('generate-core')\n  .description('Generate a minimal Electron core application for high-resource tasks.')\n  .action(async () => {\n    console.log(\"üîß Electron Core App Generator\\n\");\n\n    const answers = await inquirer.prompt([\n      {\n        type: 'input',\n        name: 'appName',\n        message: 'App name:',\n        validate: (input: string) => input ? true : 'App name cannot be empty.',\n      },\n      {\n        type: 'input',\n        name: 'outputFolder',\n        message: 'Output folder (relative to current directory):',\n        default: (ans: { appName: string }) => ans.appName.toLowerCase().replace(/\\s+/g, '-'),\n      },\n      {\n        type: 'checkbox',\n        name: 'platforms',\n        message: 'Target platform(s) for packaging (select with spacebar):',\n        choices: [\n          { name: 'Windows', value: 'win', checked: process.platform === 'win32' },\n          { name: 'macOS', value: 'mac', checked: process.platform === 'darwin' },\n          { name: 'Linux', value: 'linux', checked: process.platform === 'linux' }\n        ],\n        default: [process.platform === 'win32' ? 'win' : process.platform === 'darwin' ? 'mac' : 'linux'],\n         validate: (input: string[]) => input.length > 0 ? true : 'Please select at least one platform.',\n      },\n      {\n        type: 'confirm',\n        name: 'requireNode',\n        message: 'Does your app require Node.js runtime for performance optimization?',\n        default: false,\n      },\n      {\n        type: 'confirm',\n        name: 'enableGpu',\n        message: 'Enable high-resource execution mode with GPU acceleration (e.g., WebGPU)?',\n        default: true,\n      },\n      {\n        type: 'confirm',\n        name: 'useSecureConfig',\n        message: 'Use default secure Electron config (recommended)?',\n        default: true,\n      },\n      {\n        type: 'input',\n        name: 'additionalNotes',\n        message: 'Additional info or notes for README (optional):',\n      }\n    ]);\n\n    const { appName, outputFolder, platforms, requireNode, enableGpu, useSecureConfig, additionalNotes } = answers;\n    const appNameKebab = appName.toLowerCase().replace(/\\s+/g, '-');\n    const projectPath = path.resolve(process.cwd(), outputFolder);\n\n    if (await fs.pathExists(projectPath)) {\n      const { overwrite } = await inquirer.prompt([{\n        type: 'confirm',\n        name: 'overwrite',\n        message: `Folder \"${outputFolder}\" already exists. Overwrite?`,\n        default: false,\n      }]);\n      if (!overwrite) {\n        console.log('Generation cancelled.');\n        return;\n      }\n      await fs.emptyDir(projectPath);\n    } else {\n      await fs.ensureDir(projectPath);\n    }\n\n    console.log(`\\nGenerating Electron core app '${appName}' in '${projectPath}'...`);\n\n    const generatedPackageJson = {\n      name: appNameKebab,\n      version: \"0.1.0\",\n      main: \"electron-main.js\",\n      scripts: {\n        start: \"electron .\",\n        package: \"electron-builder\", \n      },\n      devDependencies: {\n        electron: libraryPackageJson.devDependencies.electron || \"^31.0.0\", \n        \"electron-builder\": libraryPackageJson.devDependencies['electron-builder'] || \"^25.0.0\",\n      },\n      dependencies: {\n        \"fs-extra\": \"^11.2.0\", \n      },\n    };\n    await fs.writeJson(path.join(projectPath, 'package.json'), generatedPackageJson, { spaces: 2 });\n\n    const mainJsComments = !useSecureConfig ? `\n// WARNING: You opted not to use the default secure Electron configuration during generation.\n// The current configuration IS still secure by default based on your Node.js choice.\n// If you intend to alter settings like contextIsolation, nodeIntegration, or sandbox manually,\n// please ensure you fully understand the security implications.\n// - contextIsolation: ${!requireNode} (true is more secure)\n// - nodeIntegration: ${requireNode} (false is more secure in renderers)\n// - sandbox: ${!requireNode} (true is more secure for renderers without Node.js integration)\n` : '';\n\n    const webPreferencesPreloadValue = `\\\\\\`\\${path.join(__dirname, 'preload.js')}\\\\\\``;\n    const cspScriptSrcExtra = requireNode ? \"'unsafe-eval'\" : \"\";\n\n    let ipcNodeTaskHandlerString = '';\n    if (requireNode) {\n        ipcNodeTaskHandlerString = `\nipcMain.handle('perform-node-task', async (event, data) => {\n  console.log('Node.js task invoked from renderer with:', data);\n  // Example: perform a file system operation or some CPU-intensive task\n  // const fs = require('fs').promises;\n  // await fs.writeFile(path.join(app.getPath('userData'), 'node_task_output.txt'), JSON.stringify(data));\n  return { result: 'Node.js task completed successfully at ' + new Date().toISOString(), received: data };\n});\n`;\n    }\n\n    const mainJsContent = `\nconst { app, BrowserWindow, ipcMain, shell, session } = require('electron');\nconst path = require('path');\nconst fs = require('fs-extra'); // For loading .electronrc.json\n${mainJsComments}\nlet mainWindow;\n\n// Default configuration, can be overridden by .electronrc.json\nconst defaultConfig = {\n  appName: '${appName}',\n  appId: 'com.example.${appNameKebab}',\n  enableGpu: ${enableGpu},\n  windowOptions: {\n    width: 800,\n    height: 600,\n    show: process.env.NODE_ENV !== 'production',\n    webPreferences: {\n      preload: ${webPreferencesPreloadValue},\n      contextIsolation: ${!requireNode},\n      nodeIntegration: ${requireNode},\n      sandbox: ${!requireNode},\n    }\n  },\n  csp: \"default-src 'self'; script-src 'self' ${cspScriptSrcExtra}; style-src 'self' 'unsafe-inline'; img-src 'self' data:;\",\n};\n\nasync function loadUserConfig() {\n  try {\n    const userConfigPath = path.join(__dirname, '.electronrc.json');\n    if (await fs.pathExists(userConfigPath)) {\n      const userConfig = await fs.readJson(userConfigPath);\n      const merge = (target, source) => {\n        for (const key of Object.keys(source)) {\n          if (source[key] instanceof Object && key in target && target[key] instanceof Object) {\n            Object.assign(source[key], merge(target[key], source[key]));\n          }\n        }\n        Object.assign(target || {}, source);\n        return target;\n      }\n      return merge(JSON.parse(JSON.stringify(defaultConfig)), userConfig);\n    }\n  } catch (err) {\n    console.warn('Warning: Error loading .electronrc.json, using defaults:', err.message);\n  }\n  return defaultConfig;\n}\n\nasync function createWindow() {\n  const config = await loadUserConfig();\n\n  if (config.enableGpu) {\n    app.commandLine.appendSwitch('enable-unsafe-webgpu');\n    app.commandLine.appendSwitch('enable-features', 'Vulkan,UseSkiaRenderer');\n    console.log('GPU acceleration flags enabled (WebGPU related).');\n  }\n\n  if (config.appId && process.platform === 'win32') {\n    app.setAppUserModelId(config.appId);\n  }\n\n  mainWindow = new BrowserWindow(config.windowOptions);\n  mainWindow.loadFile(path.join(__dirname, 'index.html'));\n\n  if (process.env.NODE_ENV !== 'production' && config.windowOptions.show) {\n    mainWindow.webContents.openDevTools({ mode: 'detach' });\n  }\n\n  mainWindow.on('closed', () => {\n    mainWindow = null;\n  });\n\n  session.defaultSession.webRequest.onHeadersReceived((details, callback) => {\n    callback({\n      responseHeaders: {\n        ...details.responseHeaders,\n        'Content-Security-Policy': [config.csp],\n      },\n    });\n  });\n\n  mainWindow.webContents.setWindowOpenHandler(({ url }) => {\n    if (url.startsWith('http:') || url.startsWith('https:')) {\n      shell.openExternal(url);\n    }\n    return { action: 'deny' };\n  });\n}\n${ipcNodeTaskHandlerString}\napp.whenReady().then(createWindow);\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit();\n  }\n});\n\napp.on('activate', () => {\n  if (BrowserWindow.getAllWindows().length === 0) {\n    createWindow();\n  }\n});\n    `;\n    await fs.writeFile(path.join(projectPath, 'electron-main.js'), mainJsContent.trim());\n\n    let preloadNodeTaskChannelString = '';\n    if (requireNode) {\n      preloadNodeTaskChannelString = \", 'perform-node-task'\";\n    }\n\n    const preloadJsContent = `\nconst { contextBridge, ipcRenderer } = require('electron');\n\nconst validInvokeChannels = ['get-app-name'${preloadNodeTaskChannelString}];\n\ncontextBridge.exposeInMainWorld('electronAPI', {\n  invoke: (channel, ...args) => {\n    if (validInvokeChannels.includes(channel)) {\n      return ipcRenderer.invoke(channel, ...args);\n    }\n    console.warn(\\\\\\`Blocked invoke on invalid channel: \\${channel}\\\\\\`);\n    return Promise.reject(new Error(\\\\\\`Invalid invoke channel: \\${channel}\\\\\\`));\n  }\n});\nconsole.log('Preload script for \"${appName}\" loaded. electronAPI exposed to window.');\n    `;\n    await fs.writeFile(path.join(projectPath, 'preload.js'), preloadJsContent.trim());\n\n    let indexHtmlNodeButtonString = '';\n    if (requireNode) {\n      indexHtmlNodeButtonString = `<button id=\"test-ipc-node-task\">Test Node.js IPC</button>`;\n    }\n    let indexHtmlNodeScriptString = '';\n    if (requireNode) {\n      indexHtmlNodeScriptString = `\n          const testNodeButton = document.getElementById('test-ipc-node-task');\n          if (testNodeButton) {\n            testNodeButton.addEventListener('click', async () => {\n              try {\n                const result = await window.electronAPI.invoke('perform-node-task', { data: 'Sample data from renderer at ' + new Date().toLocaleTimeString() });\n                statusDiv.textContent = \\\\\\`Node.js Task Result: \\${JSON.stringify(result)}\\\\\\`;\n              } catch (e) {\n                statusDiv.textContent = \\\\\\`Error invoking perform-node-task: \\${e.message}\\\\\\`;\n                console.error('IPC Error (perform-node-task):', e);\n              }\n            });\n          }\n          `;\n    }\n\n    const indexHtmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>${appName} - Core Logic</title>\n    <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'\">\n    <style>\n        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #1e1e1e; color: #e0e0e0; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; margin: 0; text-align: center; padding: 20px; box-sizing: border-box; }\n        .container { padding: 30px; border-radius: 10px; background-color: #2a2a2a; box-shadow: 0 5px 15px rgba(0,0,0,0.3); max-width: 600px; }\n        h1 { color: #76d7c4; margin-top: 0; }\n        p { font-size: 1em; line-height: 1.6; }\n        #status { margin-top: 20px; font-style: italic; color: #aaa; font-size: 0.9em; }\n        .controls { margin-top: 20px; display: flex; gap: 10px; justify-content: center;}\n        button { background-color: #76d7c4; color: #121212; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer; font-size: 0.9em; transition: background-color 0.2s; }\n        button:hover { background-color: #5facaa; }\n        code { background-color: #333; padding: 2px 5px; border-radius: 3px; font-family: 'Courier New', Courier, monospace; }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>${appName} - Core</h1>\n        <p>This Electron application is running its core logic. The window is primarily for status display or development debugging, and can be hidden in production (set \\\\\\`show: false\\\\\\` in \\\\\\`.electronrc.json\\\\\\` or \\\\\\`electron-main.js\\\\\\`).</p>\n        <div id=\"status\">Initializing Electron core...</div>\n        <div class=\"controls\">\n          <button id=\"test-ipc-app-name\">Test IPC (Get App Name)</button>\n          ${indexHtmlNodeButtonString}\n        </div>\n    </div>\n    <script>\n      document.addEventListener('DOMContentLoaded', () => {\n        const statusDiv = document.getElementById('status');\n        if (window.electronAPI && window.electronAPI.invoke) {\n          statusDiv.textContent = 'Electron API available via window.electronAPI.';\n          \n          document.getElementById('test-ipc-app-name').addEventListener('click', async () => {\n            try {\n              const name = await window.electronAPI.invoke('get-app-name'); // 'get-app-name' is not handled by default in generated main.js\n                                                                          // but can be added by the user. This is a placeholder.\n              statusDiv.textContent = \\\\\\`App Name from Main (example): \\${name || '${appName}'}\\\\\\`;\n            } catch (e) {\n              statusDiv.textContent = \\\\\\`Error invoking get-app-name: \\${e.message}. (Note: 'get-app-name' IPC handler is an example to be implemented by user if needed.)\\\\\\`;\n              console.error('IPC Error (get-app-name):', e);\n            }\n          });\n          ${indexHtmlNodeScriptString}\n        } else {\n          statusDiv.textContent = 'Error: window.electronAPI not found. Check preload script, contextIsolation, and console for errors.';\n          console.error('window.electronAPI is not available.');\n        }\n      });\n    </script>\n</body>\n</html>\n    `;\n    await fs.writeFile(path.join(projectPath, 'index.html'), indexHtmlContent.trim());\n\n    let securityConfigNote = '';\n    if (!useSecureConfig) {\n        securityConfigNote = `\n### Security Configuration Note\nYou indicated during generation that you might not want the \"default secure Electron configuration\".\nWhile this generator prioritizes security, the key settings in \\\\\\`electron-main.js\\\\\\`'s \\\\\\`webPreferences\\\\\\` are:\n- \\\\\\`contextIsolation: ${!requireNode}\\\\\\` (true is more secure)\n- \\\\\\`nodeIntegration: ${requireNode}\\\\\\` (false is more secure in renderers)\n- \\\\\\`sandbox: ${!requireNode}\\\\\\` (true is more secure for renderers without Node.js integration)\n\nThese are set based on your choice for Node.js runtime access. If you need to change these for specific advanced use cases, please ensure you understand the security implications. Refer to the official Electron security documentation.\n`;\n    }\n\n    let platformPackagingInstructions = \"npm run package\";\n    if (platforms && platforms.length > 0) {\n        const platformFlags = platforms.map((p: string) => ` --${p}`).join(''); \n        platformPackagingInstructions = `npm run package --${platformFlags}`; \n    }\n\n    const nodeIntegrationDetails = requireNode\n      ? `This application is configured with Node.js integration enabled in the renderer process (\\\\\\`nodeIntegration: true\\\\\\`, \\\\\\`contextIsolation: false\\\\\\`, \\\\\\`sandbox: false\\\\\\`).\n    - This allows direct use of Node.js APIs in your renderer-side scripts (if any loaded by \\\\\\`index.html\\\\\\`) for performance-critical tasks.\n    - **Security Note**: This configuration carries security risks if you load remote or untrusted content. Ensure you understand these implications. For pure core logic or trusted local content, this can be acceptable.\n    - APIs from the main process can be exposed securely via \\\\\\`preload.js\\\\\\` using \\\\\\`contextBridge\\\\\\` and \\\\\\`ipcRenderer.invoke\\\\\\`. The example 'perform-node-task' demonstrates this.`\n      : `Node.js integration in the renderer process is disabled by default for enhanced security (\\\\\\`nodeIntegration: false\\\\\\`, \\\\\\`contextIsolation: true\\\\\\`, \\\\\\`sandbox: true\\\\\\`).\n    - For any Node.js-dependent tasks, use IPC (Inter-Process Communication) like \\\\\\`ipcRenderer.invoke\\\\\\` to request the main process to perform those operations. The \\\\\\`preload.js\\\\\\` script is where you define the secure bridge (\\\\\\`window.electronAPI\\\\\\`) for this communication.`;\n\n    const gpuAccelerationDetails = enableGpu\n      ? `GPU acceleration flags (e.g., for WebGPU) have been enabled in \\\\\\`electron-main.js\\\\\\` via \\\\\\`app.commandLine.appendSwitch\\\\\\`.\n    - You can leverage WebGPU in your renderer process scripts for GPU compute tasks if the minimal \\\\\\`index.html\\\\\\` loads such scripts.\n    - Ensure your target system's drivers support WebGPU.\n    - Consult WebGPU API documentation and Electron/Chromium documentation for details on specific flags and usage.`\n      : `GPU acceleration (e.g., WebGPU) is not explicitly enabled by default in the generated config. You can enable it by:\n    1. Setting \\\\\\`enableGpu: true\\\\\\` in your \\\\\\`.electronrc.json\\\\\\` or modifying \\\\\\`defaultConfig\\\\\\` in \\\\\\`electron-main.js\\\\\\`.\n    2. Ensuring appropriate command line switches (e.g., \\\\\\`enable-unsafe-webgpu\\\\\\`) are appended in \\\\\\`electron-main.js\\\\\\` if you modify it directly.`;\n\n\n    const readmeContent = `\n# ${appName} - Electron Core Application\n\nGenerated by \\\\\\`nextjs-electron generate-core\\\\\\` CLI.\nThis is a minimal Electron application designed for core logic, background tasks, and high-resource operations, potentially leveraging Node.js and GPU acceleration. It includes no specific UI framework.\n\n## Selected Configuration\n- **Target Platforms for Packaging**: ${platforms.join(', ') || 'Not specified, defaults to current OS'}\n- **Node.js Runtime Required**: ${requireNode ? 'Yes' : 'No'}\n- **GPU Acceleration Enabled**: ${enableGpu ? 'Yes' : 'No'}\n${additionalNotes ? `\\n## Additional Notes from Generator\\n${additionalNotes}\\n` : ''}\n## Getting Started\n\n1.  Dependencies were installed automatically by the generator. If you encounter issues, navigate to this directory (\\\\\\`${outputFolder}\\\\\\`) and run:\n    \\\\\\`\\\\\\`\\\\\\`bash\n    npm install\n    \\\\\\`\\\\\\`\\\\\\`\n\n2.  The application attempted to start automatically after generation. To run it manually:\n    \\\\\\`\\\\\\`\\\\\\`bash\n    npm start\n    \\\\\\`\\\\\\`\\\\\\`\n    This command executes \\\\\\`electron .\\\\\\`.\n\n## Configuration\n\nThe application's primary configuration is in \\\\\\`electron-main.js\\\\\\`. You can create a \\\\\\`.electronrc.json\\\\\\` file in this project's root directory to override specific settings (like window size, or whether the window is shown) without modifying \\\\\\`electron-main.js\\\\\\` directly.\n\nExample \\\\\\`.electronrc.json\\\\\\`:\n\\\\\\`\\\\\\`\\\\\\`json\n{\n  \"appName\": \"My Custom Core App Name\",\n  \"windowOptions\": {\n    \"width\": 1024,\n    \"height\": 768,\n    \"show\": true\n  },\n  \"csp\": \"default-src 'self'; script-src 'self' https://trusted.cdn.com; object-src 'none';\"\n}\n\\\\\\`\\\\\\`\\\\\\`\nReview \\\\\\`electron-main.js\\\\\\` to see how \\\\\\`defaultConfig\\\\\\` and \\\\\\`.electronrc.json\\\\\\` are merged.\n${securityConfigNote}\n## Packaging for Distribution\n\nTo package this application for distribution:\n1.  **Set up \\\\\\`electron-builder\\\\\\` configuration**:\n    *   A basic \\\\\\`electron-builder.config.js\\\\\\` is NOT generated by default to keep this core app minimal.\n    *   You will need to create one. You can start by running \\\\\\`npx nextjs-electron init-config\\\\\\` inside this project directory (\\\\\\`${outputFolder}\\\\\\`). This will create an \\\\\\`electron-builder.user.config.js\\\\\\`. Rename or copy it to \\\\\\`electron-builder.config.js\\\\\\`.\n    *   **Crucially, customize** fields like \\\\\\`appId\\\\\\`, \\\\\\`productName\\\\\\`, icons, copyright, and signing details specific to *this core application*.\n2.  **Run the package script**:\n    To build for your selected target platforms (${platforms.join(', ') || 'current OS'} if specified, otherwise current OS):\n    \\\\\\`\\\\\\`\\\\\\`bash\n    ${platformPackagingInstructions}\n    \\\\\\`\\\\\\`\\\\\\`\n\n    To build for specific platforms individually (recommended if not on macOS for multi-target builds, or to override selection):\n    ${platforms.map((p: string) => `- For ${p}: \\\\\\`npm run package -- --${p}\\\\\\``).join('\\n    ')}\n    (Example for Windows: \\\\\\`npm run package -- --win\\\\\\`)\n\n    For more advanced packaging options, consult the \\\\\\`electron-builder\\\\\\` documentation.\n\n## Node.js Integration\n${nodeIntegrationDetails}\n\n## GPU Acceleration ${enableGpu ? '(WebGPU Flags Enabled)' : ''}\n${gpuAccelerationDetails}\n\n## Best Practices for High-Resource Core Apps\n-   **Headless Operation**: If no UI is needed, configure \\\\\\`windowOptions: { show: false }\\\\\\` in \\\\\\`.electronrc.json\\\\\\` or \\\\\\`electron-main.js\\\\\\`.\n-   **Web Workers**: For CPU-intensive JavaScript tasks in the renderer (if used), offload to Web Workers.\n-   **Electron's \\\\\\`utilityProcess\\\\\\`**: For Node.js tasks that need a completely separate process without browser overhead, consider Electron's \\\\\\`utilityProcess\\\\\\`.\n-   **Efficient IPC**: Use \\\\\\`ipcRenderer.invoke\\\\\\` for request-response. For very large data, explore shared memory or temporary files.\n-   **Resource Management**: Monitor CPU/memory usage. Be mindful of cleanup for long-running processes.\n-   **Security**: Regularly review Electron security best practices. Keep Electron and its dependencies updated.\n    `;\n    await fs.writeFile(path.join(projectPath, 'README.md'), readmeContent.trim());\n\n    const electronRcJsonContent = {\n      note: `This is an example .electronrc.json for ${appName}. It overrides defaults in electron-main.js.`,\n      appName: appName,\n      windowOptions: {\n        width: 900,\n        height: 700,\n        show: true\n      },\n    };\n    await fs.writeJson(path.join(projectPath, '.electronrc.json'), electronRcJsonContent, { spaces: 2 });\n\n    console.log(`\\n‚úÖ Core Electron app '${appName}' generated successfully in '${projectPath}'.`);\n\n    try {\n      console.log('\\nüì¶ Installing dependencies... (This might take a moment)');\n      execSync('npm install', { cwd: projectPath, stdio: 'inherit' });\n      console.log('‚úÖ Dependencies installed.');\n\n      console.log(`\\nüöÄ Attempting to start the generated Electron app ('npm start')...`);\n      execSync('npm start', { cwd: projectPath, stdio: 'inherit' });\n      console.log(`‚úÖ Electron app '${appName}' launched (or an attempt was made).`);\n      console.log(`   If it didn't start as expected, check the output above or run 'npm start' manually in the '${outputFolder}' directory.`);\n\n    } catch (error) {\n      console.error(`\\n‚ùå Error during post-generation steps (npm install or npm start):`, error);\n      console.log(`   Please try running 'npm install' and then 'npm start' manually in the '${projectPath}' directory.`);\n    }\n\n    console.log('\\nNext steps for packaging:');\n    console.log(`  1. Navigate to the project: cd ${outputFolder}`);\n    console.log(`  2. Create and customize an 'electron-builder.config.js'. You can start with:`);\n    console.log(`     npx nextjs-electron init-config`);\n    console.log(`     (Then rename/move electron-builder.user.config.js to electron-builder.config.js and customize it for *this core app*)`);\n    console.log(`  3. To package for your selected platforms (${platforms.join(', ') || 'current OS'}):`);\n    console.log(`     Run '${platformPackagingInstructions}'`);\n    console.log(`     Or for individual platforms, e.g., 'npm run package -- --win'`);\n    console.log('\\nHappy building!');\n\n  });\n\n\nasync function run() {\n  try {\n    await program.parseAsync(process.argv);\n  } catch (error) {\n    console.error('CLI Error:', error);\n    process.exit(1);\n  }\n}\n\nif (require.main === module) {\n  run();\n}\n\nexport { program as nextjsElectronCLI };\n"],"mappings":"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","names":["exports","module","path","fs","inquirer"]}